<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>tabNotes Launcher</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen flex items-center justify-center p-6 font-mono">

  <div class="bg-white shadow-xl rounded-lg p-8 max-w-xl w-full">

    <h1 class="text-3xl font-black mb-4">tabNotes</h1>

    <p class="text-gray-700 mb-6 leading-relaxed">
      A simple local scratchpad that never touches the cloud.<br>
      Auto-downloading, zero storage, private, offline.  
      Use the options below to launch it anytime.
    </p>

    <!-- BOOKMARKLET BUTTON (DRAG ME) -->
    <a id="bookmarklet"
       href="#"
       class="block px-6 py-3 bg-blue-600 text-white font-semibold rounded-md shadow hover:bg-blue-700 cursor-move select-none mb-4 w-full text-left">
      ➜ Drag this to your bookmarks bar
    </a>

    <!-- CLICK TO OPEN -->
    <button id="copyLauncher"
       class="block px-6 py-3 bg-blue-600 text-white font-semibold rounded-md shadow hover:bg-blue-700 cursor-move select-none mb-4 w-full text-left">
      ➜ Copy tabNotes URL
    </button>

    <p class="text-gray-600 text-sm mb-4">
      Drag the bookmarklet above to your bar, or click the button to copy the local URL.
    </p>

    <div class="flex items-center text-gray-700 text-sm">
      Built by Taq Karim with
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"
           fill="currentColor" class="ml-1 text-pink-500" viewBox="0 0 16 16">
        <path fill-rule="evenodd"
              d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 
              4.736 3.562-3.248 8 1.314"></path>
      </svg>
    </div>

  </div>

<script>
// ------------------------------------------------------------
// INSERT YOUR FULL ENCODED SCRATCHPAD DATA-URL HERE
// ------------------------------------------------------------
const DATA_URL = `data:text/html,%3C!doctypehtml%3E%3Cmeta%20charset%3Dutf-8%3E%3Cmeta%20content%3D%22width%3Ddevice-width%2Cinitial-scale%3D1%2Cviewport-fit%3Dcover%22name%3Dviewport%3E%3Cscript%20src%3Dhttps%3A%2F%2Fcdn.tailwindcss.com%3E%3C%2Fscript%3E%3Cbody%20class%3D%22flex%20items-center%20bg-white%20flex-col%20font-mono%20h-screen%20p-4%22%3E%3Cdiv%20class%3D%22w-full%20p-4%20flex-1%20h-%5B60%25%5D%20outline-none%20overflow-auto%20text-gray-900%20whitespace-pre-wrap%22id%3Dpad%20contenteditable%3Dtrue%3EType%20or%20paste%20anything%20here...%3C%2Fdiv%3E%3Cdiv%20class%3D%22bg-white%20p-4%20bottom-0%20h-fit%20left-0%20shadow-lg%20text-base%20w-full%22id%3Dpanel%3E%3Ch1%20class%3D%22font-black%20text-2xl%22%3EtabNotes%3C%2Fh1%3E%3Cdiv%20class%3Dtext-gray-800%3EThis%20is%20a%20local%20scratchpad.%20Type%20anything.%20Closing%20or%20refreshing%20will%20ask%20%E2%80%9Csure%3F%E2%80%9D%20if%20auto%20download%20is%20enabled.%3C%2Fdiv%3E%3Cdiv%20class%3D%22flex%20items-center%20mt-2%22%3E%3Cinput%20class%3D%22focus%3Aring-2%20focus%3Aring-blue-500%20border%20border-gray-300%20flex-grow%20focus%3Aoutline-none%20px-4%20py-2%20rounded-md%20text-base%22id%3Dfilename%20placeholder%3D%22local_tabnote_%3CDATE_SAVED%3E%22%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22flex%20items-center%20mt-2%22%3E%3Cinput%20class%3D%22bg-white%20border%20border-gray-300%20focus%3Aring-2%20focus%3Aring-blue-500%20h-4%20rounded%20w-4%22id%3DautoDl%20checked%20type%3Dcheckbox%3E%20%3Clabel%20class%3D%22text-gray-800%20font-medium%20ms-2%20select-none%20text-sm%22for%3DautoDl%3EAuto%20download%20when%20navigating%20away%20from%20page%3C%2Flabel%3E%3C%2Fdiv%3E%3Cbutton%20class%3D%22mt-2%20bg-blue-600%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-blue-500%20font-semibold%20hover%3Abg-blue-700%20px-6%20py-2%20rounded-md%20text-base%20text-white%22id%3DdownloadBtn%3EDownload%20notes%3C%2Fbutton%3E%3Cdiv%20class%3D%22flex%20mt-2%20align-center%22%3EBuilt%20by%20Taq%20Karim%20with%20%3Csvg%20class%3D%22ml-1%20mt-1%20text-pink-500%22fill%3DcurrentColor%20height%3D18%20viewBox%3D%220%200%2016%2016%22width%3D18%20xmlns%3Dhttp%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%3E%3Cpath%20d%3D%22M8%201.314C12.438-3.248%2023.534%204.735%208%2015-7.534%204.736%203.562-3.248%208%201.314%22fill-rule%3Devenodd%3E%3C%2Fpath%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3C%2Fdiv%3E%3Cscript%3E!function()%7Blet%20e%3Ddocument.getElementById(%22pad%22)%2Ct%3Ddocument.getElementById(%22filename%22)%2Cn%3Ddocument.getElementById(%22autoDl%22)%2Cl%3Ddocument.getElementById(%22downloadBtn%22)%3Bfunction%20a()%7Blet%20e%3Dt.value.trim()%7C%7C%22local_tabnote%22%2Cn%3Dnew%20Date().toISOString()%3Breturn%20e%2B%22_%22%2Bn%2B%22.txt%22%7Dfunction%20d(e%2Ct)%7Blet%20n%3Dnew%20Blob(%5Bt%5D%2C%7Btype%3A%22text%2Fplain%22%7D)%2Cl%3DURL.createObjectURL(n)%2Ca%3Ddocument.createElement(%22a%22)%3Ba.href%3Dl%2Ca.download%3De%2Ca.click()%2CURL.revokeObjectURL(l)%7Dt.value%3D%22local_tabnote%22%2Cl.addEventListener(%22click%22%2C()%3D%3E%7Blet%20t%3De.textContent%3Bd(a()%2Ct)%7D)%2Cwindow.addEventListener(%22beforeunload%22%2Ct%3D%3E%7Bn.checked%26%26d(a()%2Ce.textContent)%3Blet%20l%3D%22sure%3F%22%3Breturn%20t.preventDefault()%2Ct.returnValue%3Dl%2Cl%7D)%2Cdocument.addEventListener(%22DOMContentLoaded%22%2C()%3D%3E%7Blet%20e%3Ddocument.getElementById(%22pad%22)%3Bif(e)%7Blet%20t%3Ddocument.createRange()%3Bt.selectNodeContents(e)%3Blet%20n%3Dwindow.getSelection()%3Bn.removeAllRanges()%2Cn.addRange(t)%7D%7D)%7D()%3B%3C%2Fscript%3E`

// Bookmarklet link
const bookmarklet = document.getElementById('bookmarklet');
bookmarklet.href = "javascript:location.href='" + DATA_URL + "'";

// Click-to-open button
document.getElementById("copyLauncher").addEventListener("click", async (e) => {
  try {
    await navigator.clipboard.writeText(DATA_URL);
    // alert("Copied to clipboard! Paste into your address bar and hit Enter.");
    e.target.classList.remove("bg-blue-600")
    e.target.classList.remove("hover:bg-blue-700")
    e.target.classList.add("bg-green-600")
    e.target.classList.add("hover:bg-green-700")
    e.target.innerHTML = "Copied! Paste into address bar and hit Enter"
  } catch (err) {
    //alert("Clipboard failed. Chrome requires HTTPS or localhost.");
    e.target.innerHTML = "Copy failed"
    e.target.classList.remove("bg-blue-600")
    e.target.classList.remove("hover:bg-blue-700")
    e.target.classList.add("bg-red-600")
    e.target.classList.add("hover:bg-red-700")
  }
});
</script>

</body>
</html>

